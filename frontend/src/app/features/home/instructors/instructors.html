<div>
  <mat-form-field class="my-10">
    <mat-label>Cerca corso...</mat-label>
    <input matInput (keyup)="applyFilter($event)" #input class="w-full!" />
  </mat-form-field>

  <div class="flex justify-end">
    <button
      class="border border-[#6d28d2] text-[#6d28d2] p-3 rounded-md shadow-md cursor-pointer hover:bg-[#6d28d2] hover:text-white transition ease-in w-30 font-medium"
      (click)="openCreateCourseDialog()"
    >
      crea corso
    </button>
  </div>

  <div class="mat-elevation-z8 shadow-md my-4 rouded-lg">
    <table mat-table [dataSource]="dataSource" matSort>
      <!-- ID Column -->
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>ID</th>
        <td mat-cell *matCellDef="let row">{{ row.id }}</td>
      </ng-container>

      <!-- course title -->
      <ng-container matColumnDef="title">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>CORSO</th>
        <td mat-cell *matCellDef="let row">{{ row.title }}</td>
      </ng-container>

      <!--description -->
      <ng-container matColumnDef="description">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>DESCRIZIONE</th>
        <td mat-cell *matCellDef="let row">{{ row.description.slice(0, 50) + '...' }}</td>
      </ng-container>

      <!-- status -->
      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>STATO</th>
        <td mat-cell *matCellDef="let row">
          @if (row.status === 'Disponibile') {
            <span class="text-green-600 font-medium">{{ row.status }}</span>
          } @else {
            <span class="text-red-600 font-medium">{{ row.status }}</span>
          }
        </td>
      </ng-container>

      <!-- total course hours -->
      <ng-container matColumnDef="establishedTime">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>MONTE ORE</th>
        <td mat-cell *matCellDef="let row" class="text-center!">{{ row.establishedTime }}</td>
      </ng-container>

      <!-- published date -->
      <ng-container matColumnDef="published">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>PUBBLICATO</th>
        <td mat-cell *matCellDef="let row">{{ row.published | date: 'yyyy-MM-dd' }}</td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

      <!-- Row shown when there is no matching data. -->
      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" colspan="4">Nessun corso disponibile.</td>
      </tr>
    </table>

    <mat-paginator
      class="bg-slate-200!"
      [pageSizeOptions]="[5, 10, 25, 100]"
      aria-label="Select page of users"
    ></mat-paginator>
  </div>
</div>
