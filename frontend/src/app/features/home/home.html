<header>
  <app-header></app-header>
</header>

<main class="p-5 my-5">
  <h2 class="text-3xl font-medium">Competenze che trasformano la vita e la carriera</h2>
  <p class="text-[#7f7f7f] mt-2 font-light">
    Dalle competenze critiche agli argomenti tecnici, supportiamo il tuo sviluppo professionale.
  </p>

  <div>
    <mat-form-field class="my-10">
      <mat-label>Cerca corso...</mat-label>
      <input matInput (keyup)="applyFilter($event)" #input />
    </mat-form-field>

    <div class="flex justify-end">
      <button
        class="bg-[#2e2e2e] text-white p-3 rounded-md shadow-md cursor-pointer hover:bg-[#4b4b4b] transition ease-in w-30 font-medium"
      >
        crea corso
      </button>
    </div>

    <div class="mat-elevation-z8 shadow-md my-4 rouded-lg">
      <table mat-table [dataSource]="dataSource" matSort>
        <!-- ID Column -->
        <ng-container matColumnDef="id">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>ID</th>
          <td mat-cell *matCellDef="let row">{{ row.id }}</td>
        </ng-container>

        <!-- Progress Column -->
        <ng-container matColumnDef="titolo">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>CORSO</th>
          <td mat-cell *matCellDef="let row">{{ row.title }}</td>
        </ng-container>

        <!-- Name Column -->
        <ng-container matColumnDef="descrizione">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>DESCRIZIONE</th>
          <td mat-cell *matCellDef="let row">{{ row.description.slice(0, 50) + '...' }}</td>
        </ng-container>

        <!-- Fruit Column -->
        <ng-container matColumnDef="istruttore">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>ISTRUTTORE</th>
          <td mat-cell *matCellDef="let row">{{ row.instructorName }}</td>
        </ng-container>

        <ng-container matColumnDef="stato">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>STATO</th>
          <td mat-cell *matCellDef="let row">
            @if (row.status === 'Disponibile') {
              <p class="text-green-600 font-medium animate-pulse">{{ row.status }}</p>
            }
          </td>
        </ng-container>

        <ng-container matColumnDef="previste">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>ORE PRESENZA</th>
          <td mat-cell *matCellDef="let row" class="text-center!">{{ row.establishedTime }}</td>
        </ng-container>

        <ng-container matColumnDef="pubblicato">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>PUBBLICATO</th>
          <td mat-cell *matCellDef="let row">{{ row.published | date: 'yyyy-MM-dd' }}</td>
        </ng-container>

        <ng-container matColumnDef="cta">
          <th mat-header-cell *matHeaderCellDef></th>
          <td mat-cell *matCellDef="let row" class="flex items-center gap-4">
            <button class="bg-[#6d28d2] p-2 rounded-md text-white w-30 cursor-pointer">
              iscriviti
            </button>
            <button
              class="border border-[#6d28d2] text-[#6d28d2] p-2 cursor-pointer rounded-md w-30"
            >
              dettagli corso
            </button>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

        <!-- Row shown when there is no matching data. -->
        <tr class="mat-row" *matNoDataRow>
          <td class="mat-cell" colspan="4">Nessun corso disponibile.</td>
        </tr>
      </table>

      <mat-paginator
        class="bg-slate-200!"
        [pageSizeOptions]="[5, 10, 25, 100]"
        aria-label="Select page of users"
      ></mat-paginator>
    </div>
  </div>
</main>
